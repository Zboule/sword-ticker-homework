/*! For license information please see stories-FileDownloader-FileDownloader-stories.62ba037c.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunksword_ticker_homework=self.webpackChunksword_ticker_homework||[]).push([[102],{"./src/stories/FileDownloader/FileDownloader.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Empty:()=>Empty,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FileDownloader_stories});var react=__webpack_require__("./node_modules/react/index.js");const FileDownloader_module={table:"FileDownloader_table__jp4sU",checkbox:"FileDownloader_checkbox__IDlLo",name:"FileDownloader_name__9tdj+",device:"FileDownloader_device__Yj6gq",path:"FileDownloader_path__FHMMw",status:"FileDownloader_status__u84iQ",header:"FileDownloader_header__0PWC8",downloadIconDisabled:"FileDownloader_downloadIconDisabled__2LN4q",selectAll:"FileDownloader_selectAll__RyZbV"},FileRow_module_tr="FileRow_tr__b8cFY",FileRow_module_trSelected="FileRow_trSelected__ww1vi",FileRow_module_availableIcon="FileRow_availableIcon__R4sBu",FileRow_module_scheduledIcon="FileRow_scheduledIcon__b9EA0";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const FileRow=_ref=>{let{file,isSelected,onSelectionChange}=_ref;const isAvailable="available"===file.status;return(0,jsx_runtime.jsxs)("tr",{className:"".concat(isSelected?FileRow_module_trSelected:FileRow_module_tr),children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("input",{"data-testid":"download-checkbox",type:"checkbox",checked:isSelected,onChange:e=>{e.stopPropagation(),isAvailable&&onSelectionChange(file)},disabled:!isAvailable})}),(0,jsx_runtime.jsx)("td",{children:file.name}),(0,jsx_runtime.jsx)("td",{children:file.device}),(0,jsx_runtime.jsx)("td",{children:file.path}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)("span",{className:isAvailable?FileRow_module_availableIcon:FileRow_module_scheduledIcon}),file.status]})]})};FileRow.__docgenInfo={description:"",methods:[],displayName:"FileRow"};const FileDownloader=_ref=>{let{files}=_ref;const{selectedFiles,isAllSelected,isSomeSelected,isAnySelected,toggleSelection,selectAll}=(files=>{const[selectedFiles,setSelectedFiles]=(0,react.useState)(new Set),availableFiles=files.filter((file=>"available"===file.status)),isAllSelected=availableFiles.length>0&&selectedFiles.size===availableFiles.length,isAnySelected=selectedFiles.size>0,isSomeSelected=selectedFiles.size>0&&selectedFiles.size<availableFiles.length,toggleSelection=(0,react.useCallback)((file=>{setSelectedFiles((prevSelectedFiles=>{const newSelectedFiles=new Set(prevSelectedFiles);return newSelectedFiles.has(file)?newSelectedFiles.delete(file):newSelectedFiles.add(file),newSelectedFiles}))}),[]),selectAll=(0,react.useCallback)((()=>{setSelectedFiles(isAllSelected?new Set:new Set(availableFiles))}),[isAllSelected,availableFiles]);return{selectedFiles,isAllSelected,isAnySelected,isSomeSelected,toggleSelection,selectAll}})(files),selectAllRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{selectAllRef.current&&(selectAllRef.current.indeterminate=isSomeSelected)}),[isSomeSelected]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:FileDownloader_module.header,children:[(0,jsx_runtime.jsxs)("div",{className:FileDownloader_module.selectAll,children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",ref:selectAllRef,checked:isAllSelected,onChange:selectAll,disabled:0===files.length}),isAnySelected?"Selected ".concat(selectedFiles.size):"None Selected"]}),(0,jsx_runtime.jsxs)("button",{className:FileDownloader_module.downloadButton,onClick:()=>{const selectedFileDetails=Array.from(selectedFiles).map((file=>"".concat(file.device," - ").concat(file.path))).join("\n");alert(selectedFileDetails)},disabled:!isAnySelected,children:[(0,jsx_runtime.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVR4nO2ZQWrDMBBFn3zKLpJco9sJ3XRRsmqg0N4kR+qqtPspAhWMsNtmoSBr/oMBQZSg/zOej20QQgghhBDi1kzAvlReh+MAeKlsQjhsZkBeh8NkAOoA1yWAZoBrCKIUMAJiSgGUAq4UQCngSgGUAkZALEIKPABfwBOQrjAg7z2V7x7ZMJ8zkS+VCWsGpLL357MPNsxpJqQ2YcmAWryX7tksCXiuBL2Vh6C1AXnvudr7OsID07RiwrEyYEjx/NLa7yvrpXkxBGmhE5ZqqH/+WhOGFv+XCSHEr5kQSvzchLtSww28IZk6f5vb/HyHzt/mNj+fdX772vx8JgNQB7guATQDXEMQpYARPAYvwH1ndbmlAd55NTFg34Gw/9auhQFT+eHHzmvX6c2aEEIIIYSgJ74B3kFEPhtJVX8AAAAASUVORK5CYII=",alt:"download-icon",className:isAnySelected?"":FileDownloader_module.downloadIconDisabled}),"Download Selected"]})]}),(0,jsx_runtime.jsxs)("table",{className:FileDownloader_module.table,children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("th",{children:(0,jsx_runtime.jsx)("div",{className:FileDownloader_module.checkbox})}),(0,jsx_runtime.jsx)("th",{children:(0,jsx_runtime.jsx)("div",{className:FileDownloader_module.name,children:"Name"})}),(0,jsx_runtime.jsx)("th",{children:(0,jsx_runtime.jsx)("div",{className:FileDownloader_module.device,children:"Device"})}),(0,jsx_runtime.jsx)("th",{children:(0,jsx_runtime.jsx)("div",{className:FileDownloader_module.path,children:"Path"})}),(0,jsx_runtime.jsx)("th",{children:(0,jsx_runtime.jsx)("div",{className:FileDownloader_module.status,children:"Status"})})]})}),(0,jsx_runtime.jsx)("tbody",{children:files.map((file=>(0,jsx_runtime.jsx)(FileRow,{file,isSelected:selectedFiles.has(file),onSelectionChange:file=>{toggleSelection(file)}},file.name)))})]})]})};FileDownloader.__docgenInfo={description:"",methods:[],displayName:"FileDownloader",props:{files:{required:!0,tsType:{name:"Array",elements:[{name:"File"}],raw:"File[]"},description:""}}};const FileDownloader_stories={title:"Components/FileDownloader",component:FileDownloader,parameters:{layout:"centered"},tags:["autodocs"]},Default={args:{files:[{name:"smss.exe",device:"Mario",path:"\\Device\\HarddiskVolume2\\Windows\\System32\\smss.exe",status:"scheduled"},{name:"netsh.exe",device:"Luigi",path:"\\Device\\HarddiskVolume2\\Windows\\System32\\netsh.exe",status:"available"},{name:"uxtheme.dll",device:"Peach",path:"\\Device\\HarddiskVolume1\\Windows\\System32\\uxtheme.dll",status:"available"},{name:"aries.sys",device:"Daisy",path:"\\Device\\HarddiskVolume1\\Windows\\System32\\aries.sys",status:"scheduled"},{name:"cryptbase.dll",device:"Yoshi",path:"\\Device\\HarddiskVolume1\\Windows\\System32\\cryptbase.dll",status:"scheduled"},{name:"7za.exe",device:"Toad",path:"\\Device\\HarddiskVolume1\\temp\\7za.exe",status:"scheduled"}]}},Empty={args:{files:[]}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    files: [{\n      name: "smss.exe",\n      device: "Mario",\n      path: "\\\\Device\\\\HarddiskVolume2\\\\Windows\\\\System32\\\\smss.exe",\n      status: "scheduled"\n    }, {\n      name: "netsh.exe",\n      device: "Luigi",\n      path: "\\\\Device\\\\HarddiskVolume2\\\\Windows\\\\System32\\\\netsh.exe",\n      status: "available"\n    }, {\n      name: "uxtheme.dll",\n      device: "Peach",\n      path: "\\\\Device\\\\HarddiskVolume1\\\\Windows\\\\System32\\\\uxtheme.dll",\n      status: "available"\n    }, {\n      name: "aries.sys",\n      device: "Daisy",\n      path: "\\\\Device\\\\HarddiskVolume1\\\\Windows\\\\System32\\\\aries.sys",\n      status: "scheduled"\n    }, {\n      name: "cryptbase.dll",\n      device: "Yoshi",\n      path: "\\\\Device\\\\HarddiskVolume1\\\\Windows\\\\System32\\\\cryptbase.dll",\n      status: "scheduled"\n    }, {\n      name: "7za.exe",\n      device: "Toad",\n      path: "\\\\Device\\\\HarddiskVolume1\\\\temp\\\\7za.exe",\n      status: "scheduled"\n    }]\n  }\n}',...Default.parameters?.docs?.source}}},Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:"{\n  args: {\n    files: []\n  }\n}",...Empty.parameters?.docs?.source}}};const __namedExportsOrder=["Default","Empty"]},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);